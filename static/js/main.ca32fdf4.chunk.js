(this["webpackJsonpspeed-reader"]=this["webpackJsonpspeed-reader"]||[]).push([[0],{47:function(e,n,t){e.exports={navbar:"Navbar_navbar__gPR8y",navItem:"Navbar_navItem__24Q0H",menu:"Navbar_menu__1dnb_"}},57:function(e,n,t){},81:function(e,n,t){},82:function(e,n,t){"use strict";t.r(n);var a,r,s,c,o,i,d,l,j,b,u,h,O,m,p,f,x,g,w,v,y,C,S,P,k,E,z,I,U,N,_,F,D,L,q,B,G,T=t(1),H=t(20),A=t.n(H),W=(t(57),t(6)),R=t(7),J=t(52),M=t(17),Q=t(47),K=t.n(Q),V=t(2),X=function(e){e.user;return Object(V.jsx)(J.a,{className:K.a.navbar,children:Object(V.jsx)(M.b,{to:"/",style:{color:"#FFF",textDecoration:"none",fontSize:"2rem",display:"flex",alignItems:"center"},children:"Speed Reader"})})},Y=t(9),Z=t(10),$=t(27),ee=t(35),ne=t(51),te=Z.a.div(a||(a=Object(Y.a)(["\n  padding: 1rem 1.5rem;\n  display: flex;\n  flex-direction: column;\n  background: #FFEEE7;\n\n  @media screen and (max-width: 1100px) {\n    padding: 2% 3%;\n  }\n"]))),ae=Z.a.div(r||(r=Object(Y.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),re=Z.a.div(s||(s=Object(Y.a)(["\n  display: flex; \n  justify-content: flex-start;\n\n  @media screen and (max-width: 600px) {\n    flex-direction: row;\n    flex-wrap: wrap;\n  }\n"]))),se=Z.a.button(c||(c=Object(Y.a)(["\n  font-family: 'Merriweather Sans';\n  font-size: 0.75rem;\n  padding: 0 0.5rem;\n  height: 2rem;\n  margin: 0 0.25rem;\n  border-radius: 80px;\n  background: ",";\n  box-shadow: 0px 8px 24px rgba(208, 37, 0, 0.09);\n  border: none;\n  color: #fff;\n"])),(function(e){return e.selected?"#D02500":"#6B1603"})),ce=Z.a.div(o||(o=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10%;\n\n  @media screen and (max-width: 600px) {\n    padding: 1%;\n  }\n"]))),oe=Z.a.div(i||(i=Object(Y.a)(['\n  box-shadow: 0px 8px 24px rgba(208, 37, 0, 0.09);\n  margin: 0;\n  margin-bottom: 1.5rem;\n  /* making the edges "disappear" */\n  border-radius: 20px; \n  background-color: ',";\n\n  transition: all 100ms ease-in-out;\n"])),(function(e){return e.selected?"#D02500":"#FFEEE7"})),ie=Z.a.div(d||(d=Object(Y.a)(["\n  cursor: pointer;\n  border-radius: 8px;\n  background: #FFF;\n  padding: 1.5rem;\n  color: #6B1603;\n\n  &:hover {\n    color: #D02500;\n  }\n"]))),de=Z.a.div(l||(l=Object(Y.a)(["\n  font-size: 0.75rem;\n  color: #D02500;\n"]))),le=Z.a.p(j||(j=Object(Y.a)(["\n"]))),je=Z.a.div(b||(b=Object(Y.a)(["\n  height: ","rem;\n  width: 100%;\n  background: #D02500;\n  border-radius: 0 0 20px 20px;\n  transition: all 100ms ease-in-out;\n  position: relative;\n"])),(function(e){return e.selected?15:0})),be=Z.a.div(u||(u=Object(Y.a)(["\n  height: 10rem;\n  width: 100%;\n  display: ",";\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.selected?"flex":"none"})),ue=Z.a.p(h||(h=Object(Y.a)(["\n  color: #fff;\n  font-size: 4rem;\n"]))),he=Z.a.div(O||(O=Object(Y.a)(["\n  position: absolute;\n  display: ",";\n  transition: all 100ms ease-in-out;\n  justify-content: center;\n  align-items: center;\n  height: 5rem;\n  bottom: 0;\n  width: 100%;\n  background-color: #6B1603;\n  border-radius: 0 0 8px 8px;\n"])),(function(e){return e.selected?"flex":"none"})),Oe=Z.a.div(m||(m=Object(Y.a)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  font-size: 0.9rem;\n  color: #fff;\n  max-width: 40%;\n  margin: 0 1rem;\n"]))),me=Object(Z.a)(Oe)(p||(p=Object(Y.a)(["\n  left: 0;\n  border-radius: 0 0 0 8px;\n"]))),pe=Object(Z.a)(Oe)(f||(f=Object(Y.a)(["\n  right: 0;\n  border-radius: 0 0 8px 0;\n"]))),fe=Z.a.button(x||(x=Object(Y.a)(["\n  position: relative;\n  border: none;\n  background-color: #fff;\n  border-radius: 999px;\n  height: 3rem;\n  width: 3rem;\n  font-size: 2.5rem;\n"]))),xe=Object(Z.a)($.d)(g||(g=Object(Y.a)(["\n  position: absolute;\n  color: #6B1603;\n  left: 0.4rem;\n  top: 0.25rem;\n"]))),ge=Object(Z.a)($.c)(w||(w=Object(Y.a)(["\n  position: absolute;\n  color: #6B1603;\n  left: 0.25rem;\n  top: 0.25rem;\n"]))),we=Object(Z.a)(ne.a)(v||(v=Object(Y.a)(["\n  margin: 0 0.5rem 0 0.5rem;\n  font-size: 1.2em;\n"]))),ve=Object(Z.a)(ee.a)(y||(y=Object(Y.a)(["\n  margin: 0;\n"]))),ye=Object(Z.a)(ee.b)(C||(C=Object(Y.a)(["\n  margin: 0 0.5rem;\n"]))),Ce=t(21),Se=t.n(Ce),Pe=function(e){e.user;var n=e.posts,t=e.setPosts,a=["WritingPrompts","AskReddit"],r=Object(T.useState)(a),s=Object(W.a)(r,1)[0],c=Object(T.useState)(a[0]),o=Object(W.a)(c,2),i=o[0],d=o[1],l=Object(T.useState)(-1),j=Object(W.a)(l,2),b=j[0],u=j[1],h=Object(T.useState)(1),O=Object(W.a)(h,2),m=O[0],p=O[1],f=Object(T.useState)([]),x=Object(W.a)(f,2),g=x[0],w=x[1],v=Object(T.useState)([]),y=Object(W.a)(v,2),C=y[0],S=y[1],P=Object(T.useState)(0),k=Object(W.a)(P,2),E=k[0],z=k[1],I=Object(T.useState)(!1),U=Object(W.a)(I,2),N=U[0],_=U[1],F=Object(T.useState)(0),D=Object(W.a)(F,2),L=D[0],q=D[1],B=Object(T.useState)(250),G=Object(W.a)(B,1)[0],H=function(e){d(e.target.name)},A=function(){L>10?q(0):E>0&&(z((function(e){return e-1})),q(0))},R=function(){q(L>10?function(e){return e-50}:0)},J=function(){E<m-1&&(z((function(e){return e+1})),q(0))},M=new Promise((function(e,n){setTimeout((function(){e("foo")}),6e4/G)}));return Object(T.useEffect)((function(){Se()({url:"https://www.reddit.com/r/".concat(i,"/top/.json"),method:"GET"}).then((function(e){t(e.data.data.children.filter((function(e){return e.data.num_comments>1})))})).catch(console.error)}),[i]),Object(T.useEffect)((function(){g.length>0&&S(g[E].data.body.split(" "))}),[E]),Object(T.useEffect)((function(){N&&L<C.length&&M.then((function(){q((function(e){return e+1}))}))}),[C,L,N]),Object(V.jsxs)(te,{children:[Object(V.jsx)(ae,{children:Object(V.jsx)(re,{children:s.map((function(e){return Object(V.jsx)(se,{name:e,onClick:H,selected:i===e,children:e},e)}))})}),Object(V.jsx)(ce,{children:n.map((function(e,n){var t=b===n;return Object(V.jsxs)(oe,{selected:t,children:[Object(V.jsxs)(ie,{onClick:function(t){return function(e,n,t){_(!1),q(0),b===t?(u(-1),S([])):(u(t),z(0),Se.a.get("".concat(n,".json")).then((function(e){if(e.data[1].data.children.length>0){var n=e.data[1].data.children.filter((function(e){return"AutoModerator"!==e.data.author}));w(n),S(n[0].data.body.split(" ")),p(n.length)}else w([]),S([]),p(0)})))}(0,e.data.url,n)},children:[Object(V.jsx)(de,{children:e.data.ups}),Object(V.jsx)(le,{children:e.data.title})]}),Object(V.jsxs)(je,{selected:t,children:[Object(V.jsx)(be,{selected:t,children:Object(V.jsx)(ue,{children:C.length>0&&C[L]})}),Object(V.jsxs)(he,{selected:t,children:[Object(V.jsxs)(me,{children:[C.length," words at 250 wpm"]}),Object(V.jsx)(fe,{onClick:function(){return _(!N)},children:N?Object(V.jsx)(ge,{}):Object(V.jsx)(xe,{})}),Object(V.jsxs)(pe,{children:[Object(V.jsx)(ve,{onClick:A}),Object(V.jsx)(we,{onClick:R}),E+1," of ",m,Object(V.jsx)(ye,{onClick:J})]})]})]})]},e.data.id)}))})]})},ke=Z.a.div(S||(S=Object(Y.a)(["\n    height: ","px;\n    overflow: hidden;\n    padding: 3rem 20%;\n    background-color: #eee;\n\n    @media screen and (max-width: 700px) {\n        padding: 2%;\n        padding-top: 10%;\n    }\n"])),(function(e){return e.windowHeight})),Ee=Z.a.div(P||(P=Object(Y.a)(["\n    color: #222;\n    background: #55f;\n    padding: 4rem;\n    border-radius: 10px;\n    border: solid;\n    border-width: 1px;\n    border-color: #353535;\n    box-shadow: 1px 2px 15px 0px #444;\n    max-width: 600px;\n"]))),ze=Z.a.div(k||(k=Object(Y.a)(["\n    height: 10rem;\n    width: 100%;\n    background: #f1f1f1;\n    border: solid;\n    border-color: #aaa;\n    border-width: 1px;\n    border-radius: 10px;\n    margin-bottom: 1.5rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),Ie=Z.a.div(E||(E=Object(Y.a)(["\n    display: flex;\n    padding: 0.5rem 0.5rem 1rem 0.5rem;\n    width: 100%;\n    justify-content: space-around;\n    align-items: baseline;\n    color: #eee;\n    font-weight: 700;\n    font-size: 1.1rem;\n\n    @media screen and (max-width: 900px) {\n        font-size: 1rem;\n        padding: 0.5rem 0 1rem 0;\n        justify-content: space-between;\n    }\n\n    @media screen and (max-width: 600px) {\n        font-size: 0.9rem;\n    }\n"]))),Ue=Z.a.div(z||(z=Object(Y.a)([""]))),Ne=Z.a.div(I||(I=Object(Y.a)([""]))),_e=Z.a.div(U||(U=Object(Y.a)(["\n    padding: 0;\n    margin: 0;\n"]))),Fe=Z.a.div(N||(N=Object(Y.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-evenly;\n"]))),De=Z.a.h2(_||(_=Object(Y.a)(["\n    color: #222;\n"]))),Le=Z.a.input(F||(F=Object(Y.a)(["\n    width: 3rem;\n"]))),qe=Z.a.span(D||(D=Object(Y.a)([""]))),Be=Z.a.p(L||(L=Object(Y.a)(["\n"]))),Ge=Z.a.p(q||(q=Object(Y.a)(["\n"]))),Te=Z.a.button(B||(B=Object(Y.a)(["\n    color: #111;\n    background: #70cE70;\n    height: 5rem;\n    width: 5rem;\n    border-radius: 50%;\n    font-size: 4rem;\n    font-weight: 800;\n    /* border: solid; */\n    margin: 0 0.5rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 1px 2px 7px 0px #444;\n\n    &:hover {\n        background: #60bE60;\n        color: #000;\n    }\n"]))),He=Z.a.button(G||(G=Object(Y.a)(["\n    color: #111;\n    background: #70cE70;\n    height: 3rem;\n    width: 3rem;\n    border-radius: 50%;\n    font-size: 2rem;\n    font-weight: 800;\n    /* border: none; */\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 1px 2px 7px 0px #444;\n\n    &:hover {\n        background: #60bE60;\n        color: #000;\n    }\n"]))),Ae=function(e){var n=e.posts,t=e.wpm,a=e.setWpm,r=Object(T.useState)(window.innerHeight-48),s=Object(W.a)(r,2),c=s[0],o=s[1];Object(T.useEffect)((function(){window.addEventListener("resize",(function(){return o(window.innerHeight-48)}))}));var i=Object(R.h)().id,d=Object(T.useState)(0),l=Object(W.a)(d,2),j=l[0],b=l[1],u=Object(T.useState)([]),h=Object(W.a)(u,2),O=h[0],m=h[1],p=Object(T.useState)(""),f=Object(W.a)(p,2),x=f[0],g=f[1],w=Object(T.useState)(1),v=Object(W.a)(w,2),y=v[0],C=v[1],S=Object(T.useState)(!1),P=Object(W.a)(S,2),k=P[0],E=P[1],z=new Promise((function(e,n){setTimeout((function(){e("foo")}),6e4/t)}));return Object(T.useEffect)((function(){n.length>0&&Se.a.get("".concat(n.find((function(e){return e.data.id===i})).data.url,".json")).then((function(e){C(e.data[1].data.children.length-1),e.data[1].data.children[1]&&m(e.data[1].data.children[1].data.body.split(" ")),console.log(e.data[1].data.children[1].data.body.split(" "))})).catch((function(e){return console.error(e),Object(V.jsx)(R.a,{to:"/"})}))}),[]),Object(T.useEffect)((function(){k&&j<O.length&&z.then((function(){g(O[j]),b((function(e){return e+1}))}))}),[O,j,k]),0===n.length?Object(V.jsx)(R.a,{to:"/"}):Object(V.jsx)(ke,{windowHeight:c,children:Object(V.jsxs)(Ee,{children:[Object(V.jsx)(ze,{children:Object(V.jsx)(De,{children:x})}),Object(V.jsxs)(Ie,{children:[Object(V.jsx)(Ue,{children:Object(V.jsxs)(Be,{children:["Story: 1 of ",y>0?"".concat(y):"0"]})}),Object(V.jsx)(Ne,{children:Object(V.jsxs)(Ge,{children:[O.length," words"]})}),Object(V.jsxs)(_e,{children:[Object(V.jsx)(Le,{type:"text",value:t,onChange:function(e){a(e.target.value)}}),Object(V.jsx)(qe,{children:" wpm"})]})]}),Object(V.jsxs)(Fe,{children:[Object(V.jsx)(He,{children:Object(V.jsx)($.a,{})}),Object(V.jsx)(Te,{onClick:function(){E((function(e){return!e}))},children:k?Object(V.jsx)($.c,{}):Object(V.jsx)($.d,{})}),Object(V.jsx)(He,{children:Object(V.jsx)($.b,{})})]})]})})},We=t(11),Re=t(18),Je=t(19),Me=t(24),Qe=t(23),Ke="https://aqueous-forest-64376.herokuapp.com",Ve="http://localhost:4741",Xe="localhost"===window.location.hostname?Ve:Ke,Ye=function(e){return Se()({url:Xe+"/sign-in/",method:"POST",data:{credentials:{email:e.email,password:e.password}}})},Ze=t(12),$e=t(29),en=function(e){Object(Me.a)(t,e);var n=Object(Qe.a)(t);function t(e){var a;return Object(Re.a)(this,t),(a=n.call(this,e)).handleChange=function(e){return a.setState(Object(We.a)({},e.target.name,e.target.value))},a.onSignUp=function(e){e.preventDefault();var n,t=a.props.setUser;(n=a.state,Se()({method:"POST",url:Xe+"/sign-up/",data:{credentials:{email:n.email,password:n.password,password_confirmation:n.passwordConfirmation}}})).then((function(){return Ye(a.state)})).then((function(e){return t(e.data.user)})).then((function(){a.setState({navigate:!0})})).catch((function(e){a.setState({email:"",password:"",passwordConfirmation:""}),console.error(e)}))},a.state={email:"",password:"",passwordConfirmation:"",navigate:!1},a}return Object(Je.a)(t,[{key:"render",value:function(){var e=this.state,n=e.email,t=e.password,a=e.passwordConfirmation;return this.state.navigate?Object(V.jsx)(R.a,{to:"/"}):Object(V.jsx)("div",{className:"row",children:Object(V.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(V.jsx)("h3",{children:"Sign Up"}),Object(V.jsxs)(Ze.a,{onSubmit:this.onSignUp,children:[Object(V.jsxs)(Ze.a.Group,{controlId:"email",children:[Object(V.jsx)(Ze.a.Label,{children:"Email address"}),Object(V.jsx)(Ze.a.Control,{required:!0,type:"email",name:"email",value:n,placeholder:"Enter email",onChange:this.handleChange})]}),Object(V.jsxs)(Ze.a.Group,{controlId:"password",children:[Object(V.jsx)(Ze.a.Label,{children:"Password"}),Object(V.jsx)(Ze.a.Control,{required:!0,name:"password",value:t,type:"password",placeholder:"Password",onChange:this.handleChange})]}),Object(V.jsxs)(Ze.a.Group,{controlId:"passwordConfirmation",children:[Object(V.jsx)(Ze.a.Label,{children:"Password Confirmation"}),Object(V.jsx)(Ze.a.Control,{required:!0,name:"passwordConfirmation",value:a,type:"password",placeholder:"Confirm Password",onChange:this.handleChange})]}),Object(V.jsx)($e.a,{variant:"primary",type:"submit",children:"Submit"})]})]})})}}]),t}(T.Component),nn=function(e){Object(Me.a)(t,e);var n=Object(Qe.a)(t);function t(e){var a;return Object(Re.a)(this,t),(a=n.call(this,e)).handleChange=function(e){return a.setState(Object(We.a)({},e.target.name,e.target.value))},a.onSignIn=function(e){e.preventDefault();var n=a.props.setUser;Ye(a.state).then((function(e){return n(e.data.user)})).then((function(){return a.setState({navigate:!0})})).catch((function(e){a.setState({email:"",password:""}),console.error(e)}))},a.state={email:"",password:"",navigate:!1},a}return Object(Je.a)(t,[{key:"render",value:function(){var e=this.state,n=e.email,t=e.password;return this.state.navigate?Object(V.jsx)(R.a,{to:"/"}):Object(V.jsx)("div",{className:"row",children:Object(V.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(V.jsx)("h3",{children:"Sign In"}),Object(V.jsxs)(Ze.a,{onSubmit:this.onSignIn,children:[Object(V.jsxs)(Ze.a.Group,{controlId:"email",children:[Object(V.jsx)(Ze.a.Label,{children:"Email address"}),Object(V.jsx)(Ze.a.Control,{required:!0,type:"email",name:"email",value:n,placeholder:"Enter email",onChange:this.handleChange})]}),Object(V.jsxs)(Ze.a.Group,{controlId:"password",children:[Object(V.jsx)(Ze.a.Label,{children:"Password"}),Object(V.jsx)(Ze.a.Control,{required:!0,name:"password",value:t,type:"password",placeholder:"Password",onChange:this.handleChange})]}),Object(V.jsx)($e.a,{variant:"primary",type:"submit",children:"Submit"})]})]})})}}]),t}(T.Component),tn=function(e){var n=e.clearUser,t=e.user,a=Object(T.useState)(!1),r=Object(W.a)(a,2),s=r[0],c=r[1];return Object(T.useEffect)((function(){!function(e){Se()({url:Xe+"/sign-out/",method:"DELETE",headers:{Authorization:"Bearer ".concat(e.token)}})}(t),c(!0),n()}),[]),!t||s?Object(V.jsx)(R.a,{to:"/"}):""},an=function(e){Object(Me.a)(t,e);var n=Object(Qe.a)(t);function t(e){var a;return Object(Re.a)(this,t),(a=n.call(this,e)).handleChange=function(e){return a.setState(Object(We.a)({},e.target.name,e.target.value))},a.onChangePassword=function(e){e.preventDefault();var n=a.props.user;(function(e,n){return Se()({url:Xe+"/change-password/",method:"PATCH",headers:{Authorization:"Bearer ".concat(n.token)},data:{passwords:{old:e.oldPassword,new:e.newPassword}}})})(a.state,n).then((function(){return a.setState({navigate:!0})})).catch((function(e){a.setState({oldPassword:"",newPassword:""}),console.error(e)}))},a.state={oldPassword:"",newPassword:"",navigate:!1},a}return Object(Je.a)(t,[{key:"render",value:function(){var e=this.state,n=e.oldPassword,t=e.newPassword;return this.state.navigate?Object(V.jsx)(R.a,{to:"/"}):Object(V.jsx)("div",{className:"row",children:Object(V.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(V.jsx)("h3",{children:"Change Password"}),Object(V.jsxs)(Ze.a,{onSubmit:this.onChangePassword,children:[Object(V.jsxs)(Ze.a.Group,{controlId:"oldPassword",children:[Object(V.jsx)(Ze.a.Label,{children:"Old password"}),Object(V.jsx)(Ze.a.Control,{required:!0,name:"oldPassword",value:n,type:"password",placeholder:"Old Password",onChange:this.handleChange})]}),Object(V.jsxs)(Ze.a.Group,{controlId:"newPassword",children:[Object(V.jsx)(Ze.a.Label,{children:"New Password"}),Object(V.jsx)(Ze.a.Control,{required:!0,name:"newPassword",value:t,type:"password",placeholder:"New Password",onChange:this.handleChange})]}),Object(V.jsx)($e.a,{variant:"primary",type:"submit",children:"Submit"})]})]})})}}]),t}(T.Component),rn=t(14),sn=Object(rn.b)(),cn=function(e){var n=e.user,t=e.setUser,a=e.clearUser,r=e.posts,s=e.setPosts,c=e.wpm,o=e.setWpm;return Object(V.jsxs)("main",{children:[Object(V.jsx)(X,{user:n}),Object(V.jsxs)(R.d,{history:sn,children:[Object(V.jsx)(R.b,{path:"/sign-up",element:Object(V.jsx)(en,{setUser:t})}),Object(V.jsx)(R.b,{path:"/sign-in",element:Object(V.jsx)(nn,{setUser:t})}),Object(V.jsx)(R.b,{path:"/sign-out",element:Object(V.jsx)(tn,{clearUser:a,user:n})}),Object(V.jsx)(R.b,{path:"/change-password",element:Object(V.jsx)(an,{user:n})}),Object(V.jsx)(R.b,{path:"/",element:Object(V.jsx)(Pe,{posts:r,setPosts:s})}),Object(V.jsx)(R.b,{path:"/story/:id",element:Object(V.jsx)(Ae,{posts:r,wpm:c,setWpm:o})})]})]})},on=(t(81),function(){var e=Object(T.useState)(null),n=Object(W.a)(e,2),t=n[0],a=n[1],r=Object(T.useState)([]),s=Object(W.a)(r,2),c=s[0],o=s[1],i=Object(T.useState)(250),d=Object(W.a)(i,2),l=d[0],j=d[1];return Object(V.jsx)(T.Fragment,{children:Object(V.jsx)(cn,{user:t,setUser:a,clearUser:function(){a(null)},posts:c,wpm:l,setWpm:j,setPosts:o})})}),dn=Object(V.jsx)(M.a,{basename:"/speedreader",children:Object(V.jsx)(on,{})});A.a.render(dn,document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.ca32fdf4.chunk.js.map